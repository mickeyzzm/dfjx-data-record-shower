{"version":3,"sources":["webpack:///src/models/rcdjobconfig/unitconfig.vue","webpack:///./src/models/rcdjobconfig/unitconfig.vue?9bcd","webpack:///./src/models/rcdjobconfig/unitconfig.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["unitconfig","data","pagination","total","currentPageIndex","pageSize","treeData","label","job_id","children","tableData","flgTreeData","unitDialogVisible","flgDialogVisible","treeId","insertJobForm","job_unit_name","job_unit_type","job_unit_active","options","value","unittype","keyWorld","nodeList","jobUnitid","activeList","current","activeRcdt","methods","leftTreeList","_this","this","BaseRequest","url","method","then","length","map","item","push","job_name","id","$nextTick","$refs","treeBox","setCurrentKey","insertUnit","unitList","_this2","params","currPage","dataList","subUnitconfig","_this3","extends_default","$message","success","error","deletercdjobunitconfig","row","_this4","$confirm","confirmButtonText","cancelButtonText","closeOnClickModal","type","job_unit_id","catch","handleNodeClick","node","fldconfig","selectrcdjobunitfld","leftrcddtMenuSt","_this5","proj_name","proj_id","disabled","leftrcddtMenuNd","projId","_this6","element","leftrcddtMenuRd","catg_id","catg_name","catgId","_this7","rcdt","fld_name","fld_id","_this8","tree","setCheckedNodes","subFlg","_this9","getCheckedNodes","join","jobunitid","stringify_default","handleSizeChange","val","handleCurrentChange","created","rcdjobconfig_unitconfig","render","_vm","_h","$createElement","_c","_self","staticStyle","width","ref","attrs","node-key","expand-on-click-node","default-expanded-keys","highlight-current","on","node-click","_v","text-align","size","click","header-cell-style","background","border","stripe","resizable","prop","scopedSlots","_u","key","fn","scope","style","_s","$event","current-page","page-sizes","page-size","layout","size-change","current-change","title","visible","close-on-click-modal","update:visible","model","staticClass","placeholder","callback","$$v","$set","expression","_l","show-checkbox","margin-top","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","core","$JSON","JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/6.b689957efc8df5cc835f.js","sourcesContent":["<template>\n  <el-container>\n    <el-aside style=\"width: 20%\">\n      <el-tree\n        :data=\"treeData\"\n        node-key=\"job_id\"\n        @node-click=\"handleNodeClick\"\n        :expand-on-click-node=\"false\"\n        :default-expanded-keys=\"[-1]\"\n        :highlight-current=\"true\"\n        ref=\"treeBox\"\n      ></el-tree>\n    </el-aside>\n    <el-main>\n      <div style=\"text-align:left\">\n        <el-button :disabled=\"treeId === -1\" @click=\"insertUnit\" size=\"mini\" type=\"primary\">新增任务组</el-button>\n      </div>\n      <el-table :header-cell-style=\"{background:'#f6f6f7'}\" :data=\"tableData\" style=\"width: 90%\" size=\"mini\" border stripe>\n        <el-table-column type=\"index\" width=\"100\" label=\"任务组编码\" :resizable=\"false\"></el-table-column>\n        <el-table-column prop=\"job_unit_name\" label=\"任务组名称\" :resizable=\"false\"></el-table-column>\n        <el-table-column label=\"状态\" :resizable=\"false\">\n          <template slot-scope=\"scope\">\n            <span\n              :style=\"scope.row.job_unit_active == 0 ? 'color:red':'color:blue'\"\n            >{{scope.row.job_unit_active == 0 ? \"停用\":\"启用\"}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" :resizable=\"false\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" size=\"mini\" @click=\"fldconfig(scope.row)\">指标</el-button>\n            <el-button type=\"text\" size=\"mini\" @click=\"deletercdjobunitconfig(scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pagination.currentPageIndex\"\n        :page-sizes=\"[10, 15, 20]\"\n        :page-size=\"pagination.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"pagination.total\"\n      ></el-pagination>\n    </el-main>\n    <!-- 新增任务组弹窗 -->\n    <el-dialog\n      title=\"新增任务组\"\n      :visible.sync=\"unitDialogVisible\"\n      :close-on-click-modal=\"false\"\n      width=\"30%\">\n      <el-form :model=\"insertJobForm\">\n        <el-form-item class=\"public\" label=\"任务组名称：\">\n          <el-input v-model=\"insertJobForm.job_unit_name\" placeholder=\"请输入任务组名称\"></el-input>\n        </el-form-item>\n        <el-form-item class=\"public\" label=\"任务组状态：\">\n          <el-select style=\"width:100%\" v-model=\"insertJobForm.job_unit_active\">\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item class=\"public\" label=\"任务组类型：\">\n          <el-select style=\"width:100%\" v-model=\"insertJobForm.job_unit_type\">\n            <el-option\n              v-for=\"item in unittype\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item class=\"canel\">\n          <el-button @click=\"unitDialogVisible = false\" type=\"primary\">取消</el-button>\n          <el-button @click=\"subUnitconfig\" type=\"primary\">确定</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n    <!-- 任务组关联指标弹窗 -->\n    <el-dialog\n      title=\"选择指标\"\n      :visible.sync=\"flgDialogVisible\"\n      :close-on-click-modal=\"false\"\n      width=\"30%\">\n      <div style=\"width:80%\">\n        <el-tree\n          :data=\"flgTreeData\"\n          node-key=\"fld_id\"\n          show-checkbox\n          :highlight-current=\"true\"\n          :default-expanded-keys=\"activeRcdt\"\n          ref=\"tree\"\n        ></el-tree>\n        <div style=\"text-align:right;margin-top:30px\">\n          <el-button @click=\"flgDialogVisible = false\" type=\"primary\">取消</el-button>\n          <el-button @click=\"subFlg\" type=\"primary\">确定</el-button>\n        </div>\n      </div>\n    </el-dialog>\n  </el-container>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      // 分页\n      pagination: {\n        total: 0,\n        currentPageIndex: 1,\n        pageSize: 10\n      },\n      treeData: [\n        {\n          label: '填报任务',\n          job_id: -1,\n          children: []\n        }\n      ],\n      tableData: [],\n      flgTreeData: [],\n      unitDialogVisible: false,\n      flgDialogVisible: false,\n      treeId: '',\n      insertJobForm: {job_unit_name: '', job_unit_type: 0, job_unit_active: 0},\n      options: [\n        { label: '启用', value: 1 },\n        { label: '停用', value: 0 }\n      ],\n      unittype: [\n        { label: '单项', value: 1 },\n        { label: '表格', value: 0 }\n      ],\n      keyWorld: '',\n      nodeList: [],\n      jobUnitid: [],\n      activeList: [],\n      current: {},\n      activeRcdt: []\n    }\n  },\n  methods: {\n    // 左侧菜单\n    leftTreeList () {\n      this.BaseRequest({\n        url: '/reporting/leftrcdjobconfig',\n        method: 'get'\n      }).then(data => {\n        if (data.length > 0) {\n          data.map(item => {\n            this.treeData[0].children.push({\n              label: item.job_name,\n              job_id: item.job_id,\n              id: item.job_id\n            })\n          })\n        }\n        this.$nextTick(() => {\n          this.$refs.treeBox.setCurrentKey(data[0].job_id)\n        })\n      })\n    },\n    // 新增任务组\n    insertUnit () {\n      this.unitDialogVisible = true\n      this.insertJobForm = {job_unit_name: '', job_unit_type: 0, job_unit_active: 0}\n    },\n    // 任务组列表\n    unitList () {\n      this.BaseRequest({\n        url: '/reporting/rcdjobunitconfiglist',\n        method: 'get',\n        params: {\n          currPage: this.pagination.currentPageIndex,\n          pageSize: this.pagination.pageSize,\n          job_id: this.treeId ? this.treeId : 1\n        }\n      }).then(data => {\n        this.tableData = data.dataList\n        this.pagination.total = this.tableData.length\n      })\n    },\n    // 提交新增\n    subUnitconfig () {\n      this.BaseRequest({\n        url: '/reporting/insertrcdjobunitconfig',\n        method: 'get',\n        params: {\n          job_id: this.treeId ? this.treeId : 1,\n          ...this.insertJobForm\n        }\n      }).then(data => {\n        this.unitDialogVisible = false\n        if (data === 'success') {\n          this.unitList()\n          this.$message.success('新增成功')\n        } else {\n          this.$message.error('新增失败')\n        }\n      })\n    },\n    // 删除任务组\n    deletercdjobunitconfig (row) {\n      this.$confirm('确认要删除该任务组吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        closeOnClickModal: false,\n        type: 'warning'\n      }).then(() => {\n        this.BaseRequest({\n          url: '/reporting/deletercdjobunitconfig',\n          method: 'get',\n          params: {\n            job_unit_id: row.job_unit_id\n          }\n        }).then(data => {\n          if (data === 'success') {\n            this.$message.success('删除成功')\n            this.unitList()\n          } else {\n            this.$message.error('删除失败')\n          }\n        })\n      }).catch(() => {\n        return false\n      })\n    },\n    // 左侧导航点击节点\n    handleNodeClick (node) {\n      this.treeId = node.job_id\n      if (node.job_id === -1) {\n        return false\n      }\n      this.unitList(node)\n    },\n    // 指标\n    fldconfig (row) {\n      this.flgDialogVisible = true\n      this.current = row\n      this.selectrcdjobunitfld()\n    },\n    // 关联指标一级菜单\n    leftrcddtMenuSt () {\n      this.BaseRequest({\n        url: '/rcdDt/leftrcddtproj',\n        method: 'get'\n      }).then(data => {\n        if (data.length > 0) {\n          data.map(item => {\n            this.flgTreeData.push({\n              label: item.proj_name,\n              proj_id: item.proj_id,\n              disabled: true,\n              children: []\n            })\n            this.leftrcddtMenuNd(item.proj_id)\n          })\n        }\n      })\n    },\n    // 关联指标二级菜单\n    leftrcddtMenuNd (projId) {\n      this.BaseRequest({\n        url: '/rcdDt/leftrcddtcatg',\n        method: 'get',\n        params: {proj_id: projId}\n      }).then(data => {\n        if (data.length > 0) {\n          this.flgTreeData.map(item => {\n            if (item.proj_id === projId) {\n              item.children = []\n              data.map(element => {\n                this.leftrcddtMenuRd(element.catg_id)\n                item.children.push({\n                  label: element.catg_name,\n                  catg_id: element.catg_id,\n                  children: [],\n                  disabled: true\n                })\n              })\n            }\n          })\n        }\n      })\n    },\n    // 关联指标三级菜单\n    leftrcddtMenuRd (catgId) {\n      this.BaseRequest({\n        url: '/rcdDt/leftrcddtfld',\n        method: 'get',\n        params: {catg_id: catgId}\n      }).then(data => {\n        if (data.length > 0) {\n          this.flgTreeData.map(item => {\n            if (item.children.length > 0) {\n              item.children.map(element => {\n                if (element.catg_id === catgId) {\n                  element.disabled = false\n                  element.children = []\n                  data.map(rcdt => {\n                    element.children.push({\n                      label: rcdt.fld_name,\n                      fld_id: rcdt.fld_id\n                    })\n                  })\n                }\n              })\n            }\n          })\n        }\n      })\n    },\n    // 获取任务组已经绑定的指标\n    selectrcdjobunitfld () {\n      this.BaseRequest({\n        url: '/reporting/selectrcdjobunitfld',\n        method: 'get',\n        params: {\n          job_unit_id: this.current.job_unit_id\n        }\n      }).then(data => {\n        this.$refs.tree.setCheckedNodes(data)\n        this.activeRcdt = []\n        data.map(item => {\n          this.activeRcdt.push(item.fld_id)\n        })\n      })\n    },\n    // 提交选择指标\n    subFlg () {\n      this.nodeList = this.$refs.tree.getCheckedNodes()\n      this.jobUnitid = []\n      this.nodeList.map(item => {\n        if (item.fld_id) {\n          this.jobUnitid.push(item.fld_id)\n        }\n      })\n      this.BaseRequest({\n        url: '/reporting/rcdjobunitfld',\n        method: 'get',\n        params: {\n          fld_id: this.jobUnitid.join(','),\n          jobunitid: JSON.stringify(this.current.job_unit_id)\n        }\n      }).then(data => {\n        if (data === 'success') {\n          this.flgDialogVisible = false\n          this.$message.success('添加成功')\n        } else {\n          this.$message.error('添加失败')\n          this.flgDialogVisible = false\n        }\n      })\n    },\n    // 页数改变\n    handleSizeChange (val) {\n      this.pagination.pageSize = val\n    },\n    // 当前页改变\n    handleCurrentChange (val) {\n      this.pagination.currentPageIndex = val\n    }\n  },\n  created () {\n    this.leftTreeList()\n    this.unitList()\n    this.leftrcddtMenuSt()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/scss/rcdjobconfig/unitconfig.scss';\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/models/rcdjobconfig/unitconfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-aside',{staticStyle:{\"width\":\"20%\"}},[_c('el-tree',{ref:\"treeBox\",attrs:{\"data\":_vm.treeData,\"node-key\":\"job_id\",\"expand-on-click-node\":false,\"default-expanded-keys\":[-1],\"highlight-current\":true},on:{\"node-click\":_vm.handleNodeClick}})],1),_vm._v(\" \"),_c('el-main',[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-button',{attrs:{\"disabled\":_vm.treeId === -1,\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.insertUnit}},[_vm._v(\"新增任务组\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"90%\"},attrs:{\"header-cell-style\":{background:'#f6f6f7'},\"data\":_vm.tableData,\"size\":\"mini\",\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"100\",\"label\":\"任务组编码\",\"resizable\":false}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"job_unit_name\",\"label\":\"任务组名称\",\"resizable\":false}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"resizable\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:(scope.row.job_unit_active == 0 ? 'color:red':'color:blue')},[_vm._v(_vm._s(scope.row.job_unit_active == 0 ? \"停用\":\"启用\"))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"resizable\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.fldconfig(scope.row)}}},[_vm._v(\"指标\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.deletercdjobunitconfig(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.pagination.currentPageIndex,\"page-sizes\":[10, 15, 20],\"page-size\":_vm.pagination.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增任务组\",\"visible\":_vm.unitDialogVisible,\"close-on-click-modal\":false,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.unitDialogVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.insertJobForm}},[_c('el-form-item',{staticClass:\"public\",attrs:{\"label\":\"任务组名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入任务组名称\"},model:{value:(_vm.insertJobForm.job_unit_name),callback:function ($$v) {_vm.$set(_vm.insertJobForm, \"job_unit_name\", $$v)},expression:\"insertJobForm.job_unit_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"public\",attrs:{\"label\":\"任务组状态：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.insertJobForm.job_unit_active),callback:function ($$v) {_vm.$set(_vm.insertJobForm, \"job_unit_active\", $$v)},expression:\"insertJobForm.job_unit_active\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"public\",attrs:{\"label\":\"任务组类型：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.insertJobForm.job_unit_type),callback:function ($$v) {_vm.$set(_vm.insertJobForm, \"job_unit_type\", $$v)},expression:\"insertJobForm.job_unit_type\"}},_vm._l((_vm.unittype),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"canel\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.unitDialogVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.subUnitconfig}},[_vm._v(\"确定\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"选择指标\",\"visible\":_vm.flgDialogVisible,\"close-on-click-modal\":false,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.flgDialogVisible=$event}}},[_c('div',{staticStyle:{\"width\":\"80%\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.flgTreeData,\"node-key\":\"fld_id\",\"show-checkbox\":\"\",\"highlight-current\":true,\"default-expanded-keys\":_vm.activeRcdt}}),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"30px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.flgDialogVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.subFlg}},[_vm._v(\"确定\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66e35412\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/models/rcdjobconfig/unitconfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-66e35412\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./unitconfig.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./unitconfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./unitconfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-66e35412\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./unitconfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-66e35412\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/rcdjobconfig/unitconfig.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 5 6","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 5 6"],"sourceRoot":""}